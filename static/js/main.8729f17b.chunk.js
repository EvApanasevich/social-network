(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return O})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return _}));var r=n(7),a=n.n(r),c=n(12),s=n(3),o=n(13),i="SOCIAL_NETWORK/DIALOG/SET_ALL_DIALOGS",u="SOCIAL_NETWORK/DIALOG/SET_ACTIVE_DIALOG",l="SOCIAL_NETWORK/DIALOG/SET_MESSAGES",d="SOCIAL_NETWORK/DIALOG/SET_MESSAGES_CURRENT_PAGE",j="SOCIAL_NETWORK/DIALOG/SET_DIALOG_IS_OPEN",f={dialogs:[],activeDialogId:null,dialogIsOpen:!1,messages:[],messagesCount:20,messagesCurrentPage:1,messagesTotalCount:0},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:case u:case l:case d:case j:return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}},b=function(e){return{type:u,payload:{activeDialogId:e}}},O=function(e){return{type:j,payload:{dialogIsOpen:e}}},h=function(e){return{type:d,payload:{messagesCurrentPage:e}}},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().dialogPage.messagesCount,t.prev=1,t.next=4,o.b.createDialog(e);case 4:0===t.sent.data.resultCode&&(n(b(e)),n(x(1,c)),n(g())),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()},g=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.b.getDialogs();case 3:n=e.sent,t((r=n.data,{type:i,payload:{dialogs:r}})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().dialogPage.activeDialogId,s=r().dialogPage.messagesCount,t.prev=2,t.next=5,o.b.sendMessage(c,e);case 5:0===t.sent.data.resultCode&&n(x(1,s)),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r,c){var s,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=c().dialogPage.activeDialogId,n.prev=1,r(h(e)),n.next=5,o.b.getMessages(s,e,t);case 5:i=n.sent,r((a=i.data.items,u=i.data.totalCount,{type:l,payload:{messages:a,messagesTotalCount:u}})),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(1);case 11:case"end":return n.stop()}var a,u}),n,null,[[1,9]])})));return function(e,t){return n.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().dialogPage.messagesCurrentPage,s=r().dialogPage.messagesCount,t.prev=2,t.next=5,o.b.deleteMessage(e);case 5:0===t.sent.data.resultCode&&n(x(c,s)),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()}},13:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u}));var r=n(138),a=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"b173ba34-22d3-4323-a92a-0dbd941b56f3"}}),c={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))}},s={getProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/".concat(e))},updateStatus:function(e){return a.put("profile/status",{status:e})},updatePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfileInfo:function(e){return a.put("profile",e)}},o={createDialog:function(e){return a.put("dialogs/".concat(e))},getDialogs:function(){return a.get("dialogs")},sendMessage:function(e,t){return a.post("dialogs/".concat(e,"/messages"),{body:t})},getMessages:function(e,t,n){return a.get("dialogs/".concat(e,"/messages?page=").concat(t,"&count=").concat(n))},deleteMessage:function(e){return a.delete("dialogs/messages/".concat(e))}},i={authMe:function(){return a.get("auth/me")},login:function(e,t,n,r){return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")}},u={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(51),c=(n(1),n(11)),s=n(14),o=n(0),i=function(e){return{isAuth:e.auth.isAuth}};function u(e){return Object(s.b)(i)((function(t){var n=t.isAuth,s=Object(a.a)(t,["isAuth"]);return n?Object(o.jsx)(e,Object(r.a)({},s)):Object(o.jsx)(c.a,{to:"/login"})}))}},142:function(e,t,n){},170:function(e,t,n){},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(61),a=n(1),c=n(98),s=n.n(c),o=n(0),i=function(e){var t=e.onClickHandler,n=e.buttonName,c=e.style,i=Object(a.useState)(!1),u=Object(r.a)(i,2),l=u[0],d=u[1];return Object(o.jsx)("div",{children:Object(o.jsx)("button",{onMouseEnter:function(e){d(!0)},onMouseLeave:function(e){d(!1)},className:l?s.a.active:s.a.button,onClick:t,style:c,children:n})})}},20:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(3),a=n(51),c=(n(1),n(62)),s=n.n(c),o=n(0),i=function(e){var t=e.input,n=e.meta,c=Object(a.a)(e,["input","meta"]),i=n.touched&&n.error;return Object(o.jsxs)("div",{className:"".concat(s.a.formElement," ").concat(i&&s.a.error),children:[Object(o.jsx)("div",{children:Object(o.jsx)("textarea",Object(r.a)(Object(r.a)({},t),c))}),i&&Object(o.jsx)("span",{children:n.error})]})},u=function(e){var t=e.input,n=e.meta,c=Object(a.a)(e,["input","meta"]),i=n.touched&&n.error;return Object(o.jsxs)("div",{className:"".concat(s.a.formElement," ").concat(i&&s.a.error),children:[Object(o.jsx)("div",{children:Object(o.jsx)("input",Object(r.a)(Object(r.a)({},t),c))}),i&&Object(o.jsx)("span",{children:n.error})]})},l=function(e){var t=e.input,n=e.meta,c=Object(a.a)(e,["input","meta"]),s=n.touched&&n.error;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("input",Object(r.a)(Object(r.a)({type:"checkbox"},t),c))}),s&&Object(o.jsx)("span",{children:n.error})]})}},23:function(e,t,n){e.exports={navbar:"Navbar_navbar__3JtJA",navbarItems:"Navbar_navbarItems__3IyF9",item:"Navbar_item__3px6H",active:"Navbar_active__2GpVG",friends:"Navbar_friends__2MIms",listFriends:"Navbar_listFriends__2UX4P"}},253:function(e,t,n){},28:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"g",(function(){return x})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return P})),n.d(t,"h",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return N}));var r=n(7),a=n.n(r),c=n(12),s=n(49),o=n(3),i=n(80),u=n(13),l=n(39),d=n(33),j="SOCIAL-NETWORK/PROFILE/ADD-NEW-POST",f="SOCIAL-NETWORK/PROFILE/SET_USER_PROFILE",p="SOCIAL-NETWORK/PROFILE/SET_STATUS",b="SOCIAL-NETWORK/PROFILE/SAVE_PHOTO",O="SOCIAL-NETWORK/PROFILE/TOGGLE_EDIT_FORM",h={posts:[{id:Object(i.a)(),message:"Hi, my friends!",likes:10},{id:Object(i.a)(),message:"yo, yo",likes:5},{id:Object(i.a)(),message:"ya-hu-how!",likes:7}],userProfile:null,editForm:!1,status:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var n={id:Object(i.a)(),message:t.newMessagePost,likes:0};return Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n])});case f:return Object(o.a)(Object(o.a)({},e),{},{userProfile:t.userProfile});case p:return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case b:return Object(o.a)(Object(o.a)({},e),{},{userProfile:Object(o.a)(Object(o.a)({},e.userProfile),{},{photos:t.photos})});case O:return Object(o.a)(Object(o.a)({},e),{},{editForm:t.edit});default:return e}},g=function(e){return{type:j,newMessagePost:e}},v=function(e){return{type:p,status:e}},x=function(e){return{type:O,edit:e}},_=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(l.c)(!0)),t.next=3,u.c.getProfile(e);case 3:r=t.sent,n(Object(l.c)(!1)),n((a=r.data,{type:f,userProfile:a}));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(l.c)(!0)),t.next=3,u.c.getStatus(e);case 3:r=t.sent,n(Object(l.c)(!1)),n(v(r.data));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.c.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(v(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.updatePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n((a=r.data.data.photos,{type:b,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.id,t.next=3,u.c.saveProfileInfo(e);case 3:0===(s=t.sent).data.resultCode?(n(_(c)),n(x(!1))):(o=s.data.messages.length>0?s.data.messages[0]:"Some error!",n(Object(d.a)("edit-info",{_error:o})));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},29:function(e,t,n){e.exports={logForm:"Login_logForm__q0yHB",input:"Login_input__3aXKx",checkbox:"Login_checkbox__2VWm2",btn:"Login_btn__KifRG",info:"Login_info__2Oq8a",error:"Login_error__26nHC"}},297:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=(n(170),function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,305)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))}),s=n(10),o=n(28),i=n(104),u=n(3),l=n(80),d="SOCIAL-NETWORK/SIDEBAR/CHANGE-SHOW-FRIENDS",j={friends:[{id:Object(l.a)(),name:"Alena"},{id:Object(l.a)(),name:"Dima"},{id:Object(l.a)(),name:"Kolya"},{id:Object(l.a)(),name:"Usik"}],showFriends:!0},f=n(39),p=n(7),b=n.n(p),O=n(12),h=n(13),m=n(33),g="SOCIAL-NETWORK/AUTH/SET_AUTH_DATA",v="SOCIAL-NETWORK/AUTH/SET_CAPTCHA_URL",x={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},_=function(e,t,n,r){return{type:g,payload:{id:e,email:t,login:n,isAuth:r}}},P=function(e){return{type:v,payload:{captchaUrl:e}}},y=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var n,r,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.authMe();case 2:return 0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.email,s=r.login,t(_(a,c,s,!0))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.d.getCaptchaUrl();case 2:n=e.sent,t(P(n.data.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N="SOCIAL-NETWORK/APP/SET_INITIALIZATION",I={initialized:!1},E=n(139),w=n(137),C=Object(s.c)({profilePage:o.e,dialogPage:i.c,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(u.a)(Object(u.a)({},e),{},{showFriends:!e.showFriends});default:return e}},usersPage:f.e,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case v:return Object(u.a)(Object(u.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});default:return e}},form:w.a}),A=Object(s.e)(C,Object(s.a)(E.a)),k=n(73),L=n.n(k),T=n(41),F=n(42),R=n(45),U=n(44),D=(n(253),n(11)),M=n(0),W=function(){return Object(M.jsx)("div",{children:"Settings"})},G=n(19),K=n(23),H=n.n(K),z=n(18),B=n(14),J=Object(B.b)((function(e){return{sidebar:e.sidebar}}),{changeShowFriends:function(){return{type:d}}})((function(e){var t=e.changeShowFriends,n=e.sidebar,r=n.friends.map((function(e){return Object(M.jsx)("div",{children:"friend"},e.id)}));return Object(M.jsxs)("nav",{className:H.a.navbar,children:[Object(M.jsxs)("div",{className:H.a.navbarItems,children:[Object(M.jsx)("div",{className:H.a.item,children:Object(M.jsx)(G.b,{to:"/profile",activeClassName:H.a.active,children:"Profile"})}),Object(M.jsx)("div",{className:H.a.item,children:Object(M.jsx)(G.b,{to:"/dialogs",activeClassName:H.a.active,children:"Messages"})}),Object(M.jsx)("div",{className:H.a.item,children:Object(M.jsx)(G.b,{to:"/users",activeClassName:H.a.active,children:"Users"})}),Object(M.jsx)("div",{className:H.a.item,children:Object(M.jsx)(G.b,{to:"/settings",activeClassName:H.a.active,children:"Settings"})})]}),Object(M.jsx)("h3",{children:"Friends"}),Object(M.jsxs)("div",{className:H.a.listFriends,children:[Object(M.jsx)("div",{className:H.a.friends,children:n.showFriends&&r}),n.showFriends?Object(M.jsx)(z.a,{onClickHandler:t,buttonName:"hide friends"}):Object(M.jsx)(z.a,{onClickHandler:t,buttonName:"show friends"})]})]})})),V=n(142),q=n.n(V),X=n(30),Y=n.n(X),Z=n(50),Q=n(61),$=function(e){var t=Object(r.useState)(!1),n=Object(Q.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(Q.a)(s,2),i=o[0],u=o[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(M.jsxs)("div",{children:[!a&&Object(M.jsx)("div",{children:Object(M.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status?e.status:"What is new?"})}),a&&Object(M.jsx)("div",{children:Object(M.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(i)},value:i})})]})},ee=n(64),te=n(20),ne=n(135),re=n(136),ae=Object(re.a)({form:"edit-info"})((function(e){return Object(M.jsxs)("form",{onSubmit:e.handleSubmit,className:Y.a.info_form,children:[e.error&&Object(M.jsx)("div",{className:Y.a.error,children:e.error}),Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:'"Full name" :'}),Object(M.jsx)(ne.a,{placeholder:"enter text...",name:"fullName",component:te.b})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:'"About me" :'}),Object(M.jsx)(ne.a,{placeholder:"enter text...",name:"aboutMe",component:te.c})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:'"Looking for a job" :'}),Object(M.jsx)(ne.a,{name:"lookingForAJob",component:te.a,type:"checkbox"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:'"My professional skills" :'}),Object(M.jsx)(ne.a,{placeholder:"enter text...",name:"lookingForAJobDescription",component:te.c})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:"Contacts : "}),e.userProfile&&Object.keys(e.userProfile.contacts).map((function(e){return Object(M.jsxs)("div",{children:[Object(M.jsxs)("u",{children:[" ",e," :"]}),Object(M.jsx)(ne.a,{placeholder:"enter text...",name:"contacts."+e,component:te.b})]},e)}))]}),Object(M.jsx)("div",{style:{marginTop:"20px"},children:Object(M.jsx)(z.a,{buttonName:"Save info"})})]})})),ce=function(e){var t=e.userProfile,n=e.isOwner,r=e.onEditMode;return Object(M.jsxs)("div",{className:Y.a.info,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:'"Full name" : '}),(null===t||void 0===t?void 0:t.fullName)?t.fullName:"not indicated"]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:'"About me" : '}),(null===t||void 0===t?void 0:t.aboutMe)?t.aboutMe:"not indicated"]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:'"Loking for a job" : '}),(null===t||void 0===t?void 0:t.lookingForAJob)?"yes":"no"]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:'"My professional skills" : '}),(null===t||void 0===t?void 0:t.lookingForAJobDescription)?t.lookingForAJobDescription:"not indicated"]}),n&&Object(M.jsx)("div",{children:Object(M.jsx)(z.a,{onClickHandler:r,buttonName:"Edit information"})}),Object(M.jsxs)("div",{children:[Object(M.jsx)("u",{children:"Contacts : "}),t&&Object.keys(t.contacts).map((function(e){return Object(M.jsx)(se,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},se=a.a.memo((function(e){var t=e.contactTitle,n=e.contactValue;return Object(M.jsxs)("div",{style:{paddingLeft:"20px"},children:[Object(M.jsxs)("span",{children:['"',t,'" :']}),n||"not indicated"]})})),oe=function(e){var t=e.userProfile,n=e.loading,r=e.isOwner,a=e.status,c=e.updateStatus,s=e.photoUpload,o=e.saveProfileInfo,i=e.editForm,u=e.toggleEditForm;return Object(M.jsxs)("div",{className:Y.a.profileInfoBlock,children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:Y.a.photo,children:!n&&t?Object(M.jsx)("img",{alt:"",src:t.photos.large?t.photos.large:ee.a}):Object(M.jsx)(Z.a,{})}),Object(M.jsx)("div",{children:r&&Object(M.jsx)("input",{type:"file",onChange:function(e){e.target.files&&s(e.target.files[0])}})}),Object(M.jsx)("div",{className:Y.a.status,children:Object(M.jsx)($,{status:a,updateStatus:c})})]}),i?Object(M.jsx)(ae,{userProfile:t,onSubmit:function(e){o(e)}}):Object(M.jsx)(ce,{userProfile:t,isOwner:r,onEditMode:function(){u(!0)}})]})},ie=n(49),ue=n(78),le=n.n(ue),de=n(79),je=n.n(de),fe=function(e){var t=e.message,n=e.likes,r=e.profilePhoto;return Object(M.jsxs)("div",{className:je.a.post_item,children:[Object(M.jsx)("img",{alt:"",src:r||ee.a}),Object(M.jsx)("div",{className:je.a.post,children:t}),Object(M.jsxs)("div",{className:je.a.like,children:["likes: ",n]})]})},pe=a.a.memo((function(e){var t=e.addPost,n=e.posts,r=e.profilePhoto,a=Object(ie.a)(n).reverse().map((function(e){return Object(M.jsx)(fe,{message:e.message,likes:e.likes,profilePhoto:r},e.id)}));return Object(M.jsxs)("div",{children:[Object(M.jsx)("h3",{className:le.a.heading,children:"-- My posts --"}),Object(M.jsx)("div",{className:le.a.add_post,children:Object(M.jsx)(be,{onSubmit:function(e){t(e.newPost)}})}),Object(M.jsx)("div",{className:le.a.post,children:a})]})})),be=Object(re.a)({form:"myPostForm"})((function(e){return Object(M.jsx)("form",{onSubmit:e.handleSubmit,children:Object(M.jsxs)("div",{children:[Object(M.jsx)(ne.a,{placeholder:"type new post...",name:"myPostForm",component:te.c}),Object(M.jsx)(z.a,{buttonName:"add post"})]})})})),Oe=n(134),he=function(e){Object(R.a)(n,e);var t=Object(U.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"changeProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.myId),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.changeProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.changeProfile()}},{key:"render",value:function(){return Object(M.jsxs)("div",{className:q.a.content,children:[Object(M.jsx)(oe,{userProfile:this.props.userProfile,loading:this.props.loading,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus,photoUpload:this.props.photoUpload,saveProfileInfo:this.props.saveProfileInfo,editForm:this.props.editForm,toggleEditForm:this.props.toggleEditForm}),Object(M.jsx)(pe,{posts:this.props.posts,addPost:this.props.addPost,profilePhoto:this.props.profilePhoto})]})}}]),n}(a.a.Component),me=Object(s.d)(Object(B.b)((function(e){var t,n;return{posts:e.profilePage.posts,userProfile:e.profilePage.userProfile,loading:e.usersPage.loading,isAuth:e.auth.isAuth,myId:e.auth.id,status:e.profilePage.status,profilePhoto:null===(t=e.profilePage.userProfile)||void 0===t||null===(n=t.photos)||void 0===n?void 0:n.large,editForm:e.profilePage.editForm}}),{addPost:o.a,getProfile:o.b,getStatus:o.c,updateStatus:o.h,photoUpload:o.d,saveProfileInfo:o.f,toggleEditForm:o.g}),D.g,Oe.a)(he),ge=n(63),ve=n.n(ge),xe=function(e){return Object(M.jsx)("header",{className:ve.a.header,children:Object(M.jsx)("div",{className:ve.a.headerContainer,children:e.isAuth?Object(M.jsxs)("div",{className:ve.a.login,children:[" ",e.login," ",Object(M.jsx)(z.a,{onClickHandler:e.logout,buttonName:"LogOut"})," "]}):Object(M.jsx)(G.b,{className:ve.a.navlink,to:"/login",children:"Login"})})})},_e=function(e){Object(R.a)(n,e);var t=Object(U.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"render",value:function(){return Object(M.jsx)(xe,{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logout})}}]),n}(a.a.Component),Pe=Object(B.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.logout();case 2:0===e.sent.data.resultCode&&(t(_(null,null,null,!1)),t(P(null)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(_e),ye=function(e){if(!e)return"Field is required to enter!"},Se=function(e){return function(t){return t.length>e?"Max length is ".concat(e," symbols!"):void 0}},Ne=(Se(10),Se(100)),Ie=n(29),Ee=n.n(Ie),we=Object(re.a)({form:"login"})((function(e){return Object(M.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(M.jsx)("div",{className:Ee.a.input,children:Object(M.jsx)(ne.a,{placeholder:"email",name:"email",component:te.b,validate:[ye,Ne]})}),Object(M.jsx)("div",{className:Ee.a.input,children:Object(M.jsx)(ne.a,{placeholder:"password",name:"password",component:te.b,validate:[ye,Ne]})}),Object(M.jsxs)("div",{className:Ee.a.checkbox,children:[Object(M.jsx)(ne.a,{component:te.a,name:"rememberMe",type:"checkbox"}),Object(M.jsx)("p",{children:"remember me"})]}),e.captchaUrl&&Object(M.jsx)("img",{src:e.captchaUrl}),e.captchaUrl&&Object(M.jsx)("div",{children:Object(M.jsx)(ne.a,{placeholder:"enter symbols from image",component:te.b,name:"captcha"})}),e.error&&Object(M.jsx)("div",{className:Ee.a.error,children:e.error}),Object(M.jsx)("div",{className:Ee.a.btn,children:Object(M.jsx)(z.a,{buttonName:"Login"})})]})})),Ce=Object(B.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,r){return function(){var a=Object(O.a)(b.a.mark((function a(c){var s,o;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.login(e,t,n,r);case 2:0===(s=a.sent).data.resultCode?c(y()):(10===s.data.resultCode&&c(S()),o=s.data.messages.length>0?s.data.messages[0]:"Some error!",c(Object(m.a)("login",{_error:o})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuth,r=e.captchaUrl;return n?Object(M.jsx)(D.a,{to:"/profile"}):Object(M.jsxs)("div",{className:Ee.a.logForm,children:[Object(M.jsxs)("div",{className:Ee.a.info,children:["To login in the application, please enter the email and password of the test account (has restrictions on requests)",Object(M.jsx)("br",{}),"Email: ",Object(M.jsx)("span",{children:"free@samuraijs.com"}),Object(M.jsx)("br",{}),"Password: ",Object(M.jsx)("span",{children:"free"})]}),Object(M.jsx)("h2",{children:"Login"}),Object(M.jsx)(we,{captchaUrl:r,onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha)}})]})})),Ae=a.a.lazy((function(){return n.e(3).then(n.bind(null,307))})),ke=a.a.lazy((function(){return n.e(4).then(n.bind(null,306))})),Le=function(e){Object(R.a)(n,e);var t=Object(U.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(M.jsxs)("div",{className:"app-wrapper",children:[Object(M.jsx)(Pe,{}),Object(M.jsx)(J,{}),Object(M.jsx)("div",{className:"app-wrapper-content",children:Object(M.jsxs)(D.d,{children:[Object(M.jsx)(D.b,{path:"/profile/:userId?",render:function(){return Object(M.jsx)(me,{})}}),Object(M.jsx)(D.b,{path:"/dialogs",render:function(){return Object(M.jsx)(r.Suspense,{fallback:Object(M.jsx)(Z.a,{}),children:Object(M.jsx)(Ae,{})})}}),Object(M.jsx)(D.b,{path:"/users",render:function(){return Object(M.jsx)(r.Suspense,{fallback:Object(M.jsx)(Z.a,{}),children:Object(M.jsx)(ke,{})})}}),Object(M.jsx)(D.b,{path:"/settings",render:function(){return Object(M.jsx)(W,{})}}),Object(M.jsx)(D.b,{path:"/login",render:function(){return Object(M.jsx)(Ce,{})}}),Object(M.jsx)(D.b,{path:"/social-network",render:function(){return Object(M.jsx)(D.a,{to:"/profile"})}}),Object(M.jsx)(D.b,{exact:!0,path:"/",render:function(){return Object(M.jsx)(D.a,{to:"/profile"})}}),Object(M.jsx)(D.b,{path:"*",render:function(){return Object(M.jsx)("div",{children:"404 NOT FOUND"})}})]})})]}):Object(M.jsx)(Z.a,{})}}]),n}(a.a.Component),Te=Object(s.d)(Object(B.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(y());Promise.all([t]).then((function(){e({type:N})}))}}}),D.g)(Le);L.a.render(Object(M.jsx)(B.a,{store:A,children:Object(M.jsx)(G.a,{children:Object(M.jsx)(Te,{})})}),document.getElementById("root")),c()},30:function(e,t,n){e.exports={profileInfoBlock:"ProfileInfo_profileInfoBlock__3suiF",status:"ProfileInfo_status__1Nxje",photo:"ProfileInfo_photo__3shCV",info:"ProfileInfo_info__2iS-I",info_form:"ProfileInfo_info_form__OI2OF",error:"ProfileInfo_error__1E0S-"}},39:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return S}));var r=n(7),a=n.n(r),c=n(12),s=n(49),o=n(3),i=n(13),u="SOCIAL-NETWORK/USERS/UNFOLLOW",l="SOCIAL-NETWORK/USERS/FOLLOW",d="SOCIAL-NETWORK/USERS/SET_USERS",j="SOCIAL-NETWORK/USERS/SET_CURRENT_PAGE",f="SOCIAL-NETWORK/USERS/SET_TOTAL_COUNT",p="SOCIAL-NETWORK/USERS/TOGGLE_LOADING",b="SOCIAL-NETWORK/USERS/TOGGLE_FOLLOWING_PROGRESS",O={users:[],count:20,totalCount:0,currentPage:1,loading:!1,followingProgress:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case u:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case d:return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case j:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case f:return Object(o.a)(Object(o.a)({},e),{},{totalCount:t.totalCount});case p:return Object(o.a)(Object(o.a)({},e),{},{loading:t.loading});case b:return Object(o.a)(Object(o.a)({},e),{},{followingProgress:t.isLoading?[].concat(Object(s.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});default:return e}},m=function(e){return{type:l,userId:e}},g=function(e){return{type:u,userId:e}},v=function(e){return{type:j,currentPage:e}},x=function(e){return{type:p,loading:e}},_=function(e,t){return{type:b,isLoading:e,userId:t}},P=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(v(e)),r(x(!0)),n.next=4,i.e.getUsers(e,t);case 4:c=n.sent,r(x(!1)),r((s=c.data.items,{type:d,users:s})),r((a=c.data.totalCount,{type:f,totalCount:a}));case 8:case"end":return n.stop()}var a,s}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0,e)),t.next=3,i.e.follow(e);case 3:0===t.sent.data.resultCode&&n(m(e)),n(_(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0,e)),t.next=3,i.e.unfollow(e);case 3:0===t.sent.data.resultCode&&n(g(e)),n(_(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n.p+"static/media/preloader.d3fbaf2b.gif",a=(n(1),n(0)),c=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{alt:"there should be ",src:r})})}},62:function(e,t,n){e.exports={formElement:"FormElements_formElement__2tkD1",error:"FormElements_error__gdMqo"}},63:function(e,t,n){e.exports={header:"Header_header___SfV1",headerContainer:"Header_headerContainer__OyN1A",login:"Header_login__3bWw6",navlink:"Header_navlink__2785N"}},64:function(e,t,n){"use strict";t.a=n.p+"static/media/notAva.b83ea6bc.png"},78:function(e,t,n){e.exports={heading:"MyPosts_heading__3mMuh",add_post:"MyPosts_add_post__2UtlE",post:"MyPosts_post__ROcyD"}},79:function(e,t,n){e.exports={post_item:"Post_post_item__21zv8",like:"Post_like__1Fhs5",post:"Post_post__1Uo7o"}},98:function(e,t,n){e.exports={button:"Buttons_button__2ant2",active:"Buttons_active__1jy1t"}}},[[297,1,2]]]);
//# sourceMappingURL=main.8729f17b.chunk.js.map