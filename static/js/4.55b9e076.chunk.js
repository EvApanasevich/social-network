(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{301:function(e,n,t){e.exports={user:"User_user__PqC96"}},302:function(e,n,t){e.exports={users_page:"Pagination_users_page__2VqgH",selectedPage:"Pagination_selectedPage__2Vb-i",pages:"Pagination_pages__3i4Ms"}},304:function(e,n,t){"use strict";t.r(n);var r=t(41),o=t(42),s=t(45),u=t(44),l=t(14),i=t(39),c=t(1),a=t.n(c),f=t(301),p=t.n(f),d=t(20),g=t(17),j=t(98),b=t.n(j),h=t(0),x=function(e){var n=e.buttonName;return Object(h.jsx)("div",{children:Object(h.jsxs)("button",{className:b.a.button,disabled:!0,children:[" ",n," "]})})},v=t(104),O=function(e){var n=e.user,t=e.follow,r=e.unfollow,o=e.followingProgress,s=Object(l.c)();return Object(h.jsxs)("div",{className:p.a.user,children:[Object(h.jsx)("div",{children:Object(h.jsx)(g.b,{to:"/profile/"+n.id,children:Object(h.jsx)("img",{alt:"",src:n.photos.small})})}),Object(h.jsxs)("div",{children:[o.some((function(e){return e===n.id}))?Object(h.jsx)(x,{buttonName:n.followed?"unfollow":"follow"}):Object(h.jsx)(d.a,{onClickHandler:n.followed?function(){r(n.id)}:function(){t(n.id)},buttonName:n.followed?"unfollow":"follow"}),Object(h.jsx)(d.a,{onClickHandler:function(){s(Object(v.a)(n.id))},buttonName:"send message"})]}),Object(h.jsx)("div",{children:n.name}),Object(h.jsx)("div",{children:n.status})]})},m=t(50),w=t(302),P=t.n(w),y=function(e){for(var n=e.totalCount,t=e.count,r=e.currentPage,o=e.requestUsers,s=Math.ceil(n/t),u=[],l=10,i=1;i<=s;i++)u.push(i);var a=Object(c.useMemo)((function(){return Math.floor((r-1)/l)*l}),[r,l]),f=Object(c.useCallback)((function(){r>l&&o(a-l+1,t)}),[r,l,o,a,t]),p=Object(c.useCallback)((function(){a+l<u.length&&o(a+l+1,t)}),[r,l,s,o,a,t]);return Object(h.jsx)("div",{className:P.a.users_page,children:Object(h.jsxs)("div",{className:P.a.pages,children:[Object(h.jsxs)("div",{style:{margin:"10px"},onClick:function(){o(1,t)},children:[" ","<< first page"," "]}),Object(h.jsxs)("div",{style:{display:"flex",margin:"10px"},children:[r>l&&Object(h.jsxs)("div",{style:{marginRight:"20px"},onClick:f,children:[" ","<=="," "]}),u.slice(a,a+l).map((function(e){return Object(h.jsxs)("span",{style:{padding:" 0 5px 0 5px"},onClick:function(){return o(e,t)},className:r===e?P.a.selectedPage:"",children:[e," "]},e)})),a+l<u.length&&Object(h.jsxs)("div",{style:{marginLeft:"20px"},onClick:p,children:[" ","==>"," "]})]}),Object(h.jsxs)("div",{style:{margin:"10px"},onClick:function(){o(s,t)},children:[" ","last page >>"," "]})]})})},C=function(e){var n=e.users,t=e.totalCount,r=e.count,o=e.currentPage,s=e.loading,u=e.followingProgress,l=e.follow,i=e.unfollow,c=e.requestUsers;return Object(h.jsxs)("div",{children:[Object(h.jsx)(y,{totalCount:t,count:r,currentPage:o,requestUsers:c}),s?Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)(m.a,{})}):n.map((function(e){return Object(h.jsx)(O,{user:e,follow:l,unfollow:i,followingProgress:u},e.id)})),Object(h.jsx)(y,{totalCount:t,count:r,currentPage:o,requestUsers:c})]})};function _(e,n){return e===n}function k(e,n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,o=0;o<r;o++)if(!e(n[o],t[o]))return!1;return!0}function q(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return n}var N=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=0,u=r.pop(),l=q(r),i=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(t)),c=e((function(){for(var e=[],n=l.length,t=0;t<n;t++)e.push(l[t].apply(null,arguments));return i.apply(null,e)}));return c.resultFunc=u,c.dependencies=l,c.recomputations=function(){return s},c.resetRecomputations=function(){return s=0},c}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,t=null,r=null;return function(){return k(n,t,arguments)||(r=e.apply(null,arguments)),t=arguments,r}}));var U=N((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),M=function(e){return e.usersPage.count},A=function(e){return e.usersPage.totalCount},H=function(e){return e.usersPage.currentPage},F=function(e){return e.usersPage.loading},J=function(e){return e.usersPage.followingProgress},R=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(){return Object(r.a)(this,t),n.apply(this,arguments)}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.count)}},{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(C,{users:this.props.users,totalCount:this.props.totalCount,count:this.props.count,currentPage:this.props.currentPage,loading:this.props.loading,followingProgress:this.props.followingProgress,follow:this.props.follow,unfollow:this.props.unfollow,requestUsers:this.props.requestUsers})})}}]),t}(a.a.Component);n.default=Object(l.b)((function(e){return{users:U(e),count:M(e),totalCount:A(e),currentPage:H(e),loading:F(e),followingProgress:J(e)}}),{follow:i.a,unfollow:i.d,requestUsers:i.b})(R)}}]);
//# sourceMappingURL=4.55b9e076.chunk.js.map