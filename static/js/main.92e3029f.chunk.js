(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(7),a=n.n(r),c=n(12),s=n(4),i=n(13),o="SOCIAL_NETWORK/DIALOG/SET_ALL_DIALOGS",u="SOCIAL_NETWORK/DIALOG/SET_ACTIVE_DIALOG",l="SOCIAL_NETWORK/DIALOG/SET_MESSAGES",d={dialogs:[],activeDialogId:null,messages:[],messagesTotalCount:0},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:case u:case l:return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}},f=function(e){return{type:u,payload:{activeDialogId:e}}},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.createDialog(e);case 3:t.sent.data.resultCode,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.b.getDialogs();case 3:n=e.sent,t((r=n.data,{type:o,payload:{dialogs:r}})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().dialogPage.activeDialogId,t.prev=1,t.next=4,i.b.sendMessage(c,e);case 4:0===t.sent.data.resultCode&&n(h(c)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.getMessages(e);case 3:r=t.sent,n((a=r.data.items,c=r.data.totalCount,{type:l,payload:{messages:a,messagesTotalCount:c}})),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}var a,c}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().dialogPage.activeDialogId,t.prev=1,t.next=4,i.b.deleteMessage(e);case 4:0===t.sent.data.resultCode&&n(h(c)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()}},13:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u}));var r=n(138),a=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"b173ba34-22d3-4323-a92a-0dbd941b56f3"}}),c={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))}},s={getProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/".concat(e))},updateStatus:function(e){return a.put("profile/status",{status:e})},updatePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfileInfo:function(e){return a.put("profile",e)}},i={createDialog:function(e){return a.put("dialogs/".concat(e))},getDialogs:function(){return a.get("dialogs")},sendMessage:function(e,t){return a.post("dialogs/".concat(e,"/messages"),{body:t})},getMessages:function(e){return a.get("dialogs/".concat(e,"/messages"))},deleteMessage:function(e){return a.delete("dialogs/messages/".concat(e))}},o={authMe:function(){return a.get("auth/me")},login:function(e,t,n,r){return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")}},u={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),a=n(61),c=(n(1),n(11)),s=n(14),i=n(0),o=function(e){return{isAuth:e.auth.isAuth}};function u(e){return Object(s.b)(o)((function(t){var n=t.isAuth,s=Object(a.a)(t,["isAuth"]);return n?Object(i.jsx)(e,Object(r.a)({},s)):Object(i.jsx)(c.a,{to:"/login"})}))}},142:function(e,t,n){},15:function(e,t,n){e.exports={navbar:"Navbar_navbar__3JtJA",navbarItems:"Navbar_navbarItems__3IyF9",item:"Navbar_item__3px6H",active:"Navbar_active__2GpVG",friends:"Navbar_friends__2MIms",listFriends:"Navbar_listFriends__2UX4P"}},170:function(e,t,n){},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(56),a=n(1),c=n(98),s=n.n(c),i=n(0),o=function(e){var t=e.onClickHandler,n=e.buttonName,c=e.style,o=Object(a.useState)(!1),u=Object(r.a)(o,2),l=u[0],d=u[1];return Object(i.jsx)("div",{children:Object(i.jsx)("button",{onMouseEnter:function(e){d(!0)},onMouseLeave:function(e){d(!1)},className:l?s.a.active:s.a.button,onClick:t,style:c,children:n})})}},21:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(4),a=n(61),c=(n(1),n(62)),s=n.n(c),i=n(0),o=function(e){var t=e.input,n=e.meta,c=Object(a.a)(e,["input","meta"]),o=n.touched&&n.error;return Object(i.jsxs)("div",{className:"".concat(s.a.formElement," ").concat(o&&s.a.error),children:[Object(i.jsx)("div",{children:Object(i.jsx)("textarea",Object(r.a)(Object(r.a)({},t),c))}),o&&Object(i.jsx)("span",{children:n.error})]})},u=function(e){var t=e.input,n=e.meta,c=Object(a.a)(e,["input","meta"]),o=n.touched&&n.error;return Object(i.jsxs)("div",{className:"".concat(s.a.formElement," ").concat(o&&s.a.error),children:[Object(i.jsx)("div",{children:Object(i.jsx)("input",Object(r.a)(Object(r.a)({},t),c))}),o&&Object(i.jsx)("span",{children:n.error})]})}},253:function(e,t,n){},28:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return y})),n.d(t,"h",(function(){return N})),n.d(t,"d",(function(){return P})),n.d(t,"f",(function(){return S}));var r=n(7),a=n.n(r),c=n(12),s=n(49),i=n(4),o=n(80),u=n(13),l=n(39),d=n(32),j="SOCIAL-NETWORK/PROFILE/ADD-NEW-POST",f="SOCIAL-NETWORK/PROFILE/SET_USER_PROFILE",b="SOCIAL-NETWORK/PROFILE/SET_STATUS",p="SOCIAL-NETWORK/PROFILE/SAVE_PHOTO",O="SOCIAL-NETWORK/PROFILE/TOGGLE_EDIT_FORM",h={posts:[{id:Object(o.a)(),message:"Hi, my friends!",likes:10},{id:Object(o.a)(),message:"yo, yo",likes:5},{id:Object(o.a)(),message:"ya-hu-how!",likes:7}],userProfile:{},editForm:!1,status:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var n={id:Object(o.a)(),message:t.newMessagePost,likes:0};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n])});case f:return Object(i.a)(Object(i.a)({},e),{},{userProfile:t.userProfile});case b:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case p:return Object(i.a)(Object(i.a)({},e),{},{userProfile:Object(i.a)(Object(i.a)({},e.userProfile),{},{photos:t.photos})});case O:return Object(i.a)(Object(i.a)({},e),{},{editForm:t.edit});default:return e}},v=function(e){return{type:j,newMessagePost:e}},x=function(e){return{type:b,status:e}},g=function(e){return{type:O,edit:e}},_=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(l.c)(!0)),t.next=3,u.c.getProfile(e);case 3:r=t.sent,n(Object(l.c)(!1)),n((a=r.data,{type:f,userProfile:a}));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(l.c)(!0)),t.next=3,u.c.getStatus(e);case 3:r=t.sent,n(Object(l.c)(!1)),n(x(r.data));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.c.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(x(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.updatePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n((a=r.data.data.photos,{type:p,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.id,t.next=3,u.c.saveProfileInfo(e);case 3:0===(s=t.sent).data.resultCode?(n(_(c)),n(g(!1))):(i=s.data.messages.length>0?s.data.messages[0]:"Some error!",n(Object(d.a)("edit-info",{_error:i})));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},29:function(e,t,n){e.exports={logForm:"Login_logForm__q0yHB",input:"Login_input__3aXKx",checkbox:"Login_checkbox__2VWm2",btn:"Login_btn__KifRG",info:"Login_info__2Oq8a",error:"Login_error__26nHC"}},297:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=(n(170),function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,303)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))}),s=n(10),i=n(28),o=n(104),u=n(4),l=n(80),d="SOCIAL-NETWORK/SIDEBAR/CHANGE-SHOW-FRIENDS",j={friends:[{id:Object(l.a)(),name:"Alena"},{id:Object(l.a)(),name:"Dima"},{id:Object(l.a)(),name:"Kolya"},{id:Object(l.a)(),name:"Usik"}],showFriends:!0},f=n(39),b=n(7),p=n.n(b),O=n(12),h=n(13),m=n(32),v="SOCIAL-NETWORK/AUTH/SET_AUTH_DATA",x="SOCIAL-NETWORK/AUTH/SET_CAPTCHA_URL",g={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},_=function(e,t,n,r){return{type:v,payload:{id:e,email:t,login:n,isAuth:r}}},y=function(e){return{type:x,payload:{captchaUrl:e}}},N=function(){return function(){var e=Object(O.a)(p.a.mark((function e(t){var n,r,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.authMe();case 2:return 0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.email,s=r.login,t(_(a,c,s,!0))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(){return function(){var e=Object(O.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.d.getCaptchaUrl();case 2:n=e.sent,t(y(n.data.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S="SOCIAL-NETWORK/APP/SET_INITIALIZATION",w={initialized:!1},I=n(139),E=n(137),k=Object(s.c)({profilePage:i.e,dialogPage:o.c,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(u.a)(Object(u.a)({},e),{},{showFriends:!e.showFriends});default:return e}},usersPage:f.e,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case x:return Object(u.a)(Object(u.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});default:return e}},form:E.a}),A=Object(s.e)(k,Object(s.a)(I.a)),C=n(73),L=n.n(C),T=n(41),F=n(42),R=n(45),U=n(44),M=(n(253),n(11)),D=n(0),W=function(){return Object(D.jsx)("div",{children:"Settings"})},K=function(){return Object(D.jsx)("div",{children:"News"})},G=function(){return Object(D.jsx)("div",{children:"Music"})},H=n(17),J=n(15),z=n.n(J),B=n(20),V=n(14),q=Object(V.b)((function(e){return{sidebar:e.sidebar}}),{changeShowFriends:function(){return{type:d}}})((function(e){var t=e.changeShowFriends,n=e.sidebar,r=n.friends.map((function(e){return Object(D.jsx)("div",{children:"friend"},e.id)}));return Object(D.jsxs)("nav",{className:z.a.navbar,children:[Object(D.jsxs)("div",{className:z.a.navbarItems,children:[Object(D.jsx)("div",{className:z.a.item,children:Object(D.jsx)(H.b,{to:"/profile",activeClassName:z.a.active,children:"Profile"})}),Object(D.jsx)("div",{className:z.a.item,children:Object(D.jsx)(H.b,{to:"/dialogs",activeClassName:z.a.active,children:"Messages"})}),Object(D.jsx)("div",{className:z.a.item,children:Object(D.jsx)(H.b,{to:"/users",activeClassName:z.a.active,children:"Users"})}),Object(D.jsx)("div",{className:z.a.item,children:Object(D.jsx)(H.b,{to:"/news",activeClassName:z.a.active,children:"News"})}),Object(D.jsx)("div",{className:z.a.item,children:Object(D.jsx)(H.b,{to:"/music",activeClassName:z.a.active,children:"Music"})}),Object(D.jsx)("div",{className:z.a.item,children:Object(D.jsx)(H.b,{to:"/settings",activeClassName:z.a.active,children:"Settings"})})]}),Object(D.jsx)("h3",{children:"Friends"}),Object(D.jsxs)("div",{className:z.a.listFriends,children:[Object(D.jsx)("div",{className:z.a.friends,children:n.showFriends&&r}),n.showFriends?Object(D.jsx)(B.a,{onClickHandler:t,buttonName:"hide friends"}):Object(D.jsx)(B.a,{onClickHandler:t,buttonName:"show friends"})]})]})})),X=n(142),Y=n.n(X),Z=n(35),Q=n.n(Z),$=n(50),ee=n(56),te=function(e){var t=Object(r.useState)(!1),n=Object(ee.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(ee.a)(s,2),o=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(D.jsxs)("div",{children:[!a&&Object(D.jsx)("div",{children:Object(D.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status?e.status:"What is new?"})}),a&&Object(D.jsx)("div",{children:Object(D.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(o)},value:o})})]})},ne=n(71),re=n(21),ae=n(135),ce=n(136),se=Object(ce.a)({form:"edit-info"})((function(e){return Object(D.jsxs)("form",{onSubmit:e.handleSubmit,className:Q.a.info_form,children:[e.error&&Object(D.jsx)("div",{className:Q.a.error,children:e.error}),Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:'"Full name" :'}),Object(D.jsx)(ae.a,{placeholder:"enter text...",name:"fullName",component:re.a})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:'"AboutMe" :'}),Object(D.jsx)(ae.a,{placeholder:"enter text...",name:"aboutMe",component:re.b})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:'"LookingForAJob" :'}),Object(D.jsx)(ae.a,{name:"lookingForAJob",component:re.a,type:"checkbox"})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:'"LookingForAJobDescription" :'}),Object(D.jsx)(ae.a,{placeholder:"enter text...",name:"lookingForAJobDescription",component:re.b})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:"Contacts : "}),e.userProfile&&Object.keys(e.userProfile.contacts).map((function(e){return Object(D.jsxs)("div",{children:[Object(D.jsxs)("u",{children:[" ",e," :"]}),Object(D.jsx)(ae.a,{placeholder:"enter text...",name:"contacts."+e,component:re.a})]},e)}))]}),Object(D.jsx)("div",{style:{marginTop:"20px"},children:Object(D.jsx)(B.a,{buttonName:"Save info"})})]})})),ie=function(e){var t=e.userProfile,n=e.isOwner,r=e.onEditMode;return Object(D.jsxs)("div",{className:Q.a.info,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:'"Full name" :'}),(null===t||void 0===t?void 0:t.fullName)?t.fullName:"not indicated"]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:'"About me" :'}),(null===t||void 0===t?void 0:t.aboutMe)?t.aboutMe:"not indicated"]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:'"Loking for a job" :'}),(null===t||void 0===t?void 0:t.lookingForAJob)?"yes":"no"]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:'"My professional skills" :'}),(null===t||void 0===t?void 0:t.lookingForAJobDescription)?t.lookingForAJobDescription:"not indicated"]}),n&&Object(D.jsx)("div",{children:Object(D.jsx)(B.a,{onClickHandler:r,buttonName:"Edit information"})}),Object(D.jsxs)("div",{children:[Object(D.jsx)("u",{children:"Contacts : "}),t&&Object.keys(t.contacts).map((function(e){return Object(D.jsx)(oe,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},oe=a.a.memo((function(e){var t=e.contactTitle,n=e.contactValue;return Object(D.jsxs)("div",{style:{paddingLeft:"20px"},children:[Object(D.jsxs)("span",{children:['"',t,'" :']}),n||"not indicated"]})})),ue=function(e){var t=e.userProfile,n=e.loading,r=e.isOwner,a=e.status,c=e.updateStatus,s=e.photoUpload,i=e.saveProfileInfo,o=e.editForm,u=e.toggleEditForm;return Object(D.jsxs)("div",{className:Q.a.profileInfoBlock,children:[Object(D.jsxs)("div",{children:[!n&&t?Object(D.jsx)("img",{alt:"",style:{width:"300px",height:"300px"},src:t.photos.large?t.photos.large:ne.a}):Object(D.jsx)($.a,{}),Object(D.jsx)("div",{children:r&&Object(D.jsx)("input",{type:"file",onChange:function(e){e.target.files&&s(e.target.files[0])}})}),Object(D.jsx)("div",{className:Q.a.status,children:Object(D.jsx)(te,{status:a,updateStatus:c})})]}),o?Object(D.jsx)(se,{userProfile:t,onSubmit:function(e){i(e)}}):Object(D.jsx)(ie,{userProfile:t,isOwner:r,onEditMode:function(){u(!0)}})]})},le=n(49),de=n(78),je=n.n(de),fe=n(79),be=n.n(fe),pe=function(e){var t=e.message,n=e.likes,r=e.profilePhoto;return Object(D.jsxs)("div",{className:be.a.post_item,children:[Object(D.jsx)("img",{alt:"",src:r||ne.a}),Object(D.jsx)("span",{className:be.a.post,children:t}),Object(D.jsxs)("span",{className:be.a.like,children:["likes: ",n]})]})},Oe=function(e){if(!e)return"Field is required to enter!"},he=function(e){return function(t){return t.length>e?"Max length is ".concat(e," symbols!"):void 0}},me=he(10),ve=he(100),xe=a.a.memo((function(e){var t=e.addPost,n=e.posts,r=e.profilePhoto,a=Object(le.a)(n).reverse().map((function(e){return Object(D.jsx)(pe,{message:e.message,likes:e.likes,profilePhoto:r},e.id)}));return Object(D.jsxs)("div",{children:[Object(D.jsx)("h3",{className:je.a.heading,children:"-- My posts --"}),Object(D.jsx)("div",{className:je.a.add_post,children:Object(D.jsx)(ge,{onSubmit:function(e){t(e.newPost)}})}),Object(D.jsx)("div",{className:je.a.post,children:a})]})})),ge=Object(ce.a)({form:"MyPostForm"})((function(e){return Object(D.jsx)("form",{onSubmit:e.handleSubmit,children:Object(D.jsxs)("div",{children:[Object(D.jsx)(ae.a,{placeholder:"enter your post",name:"newPost",component:re.b,validate:[Oe,me]}),Object(D.jsx)(B.a,{buttonName:"add post"})]})})})),_e=n(134),ye=function(e){Object(R.a)(n,e);var t=Object(U.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"changeProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.myId),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.changeProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.changeProfile()}},{key:"render",value:function(){return Object(D.jsxs)("div",{className:Y.a.content,children:[Object(D.jsx)(ue,{userProfile:this.props.userProfile,loading:this.props.loading,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatus:this.props.updateStatus,photoUpload:this.props.photoUpload,saveProfileInfo:this.props.saveProfileInfo,editForm:this.props.editForm,toggleEditForm:this.props.toggleEditForm}),Object(D.jsx)(xe,{posts:this.props.posts,addPost:this.props.addPost,profilePhoto:this.props.profilePhoto})]})}}]),n}(a.a.Component),Ne=Object(s.d)(Object(V.b)((function(e){var t,n;return{posts:e.profilePage.posts,userProfile:e.profilePage.userProfile,loading:e.usersPage.loading,isAuth:e.auth.isAuth,myId:e.auth.id,status:e.profilePage.status,profilePhoto:null===(t=e.profilePage.userProfile)||void 0===t||null===(n=t.photos)||void 0===n?void 0:n.large,editForm:e.profilePage.editForm}}),{addPost:i.a,getProfile:i.b,getStatus:i.c,updateStatus:i.h,photoUpload:i.d,saveProfileInfo:i.f,toggleEditForm:i.g}),M.g,_e.a)(ye),Pe=n(63),Se=n.n(Pe),we=function(e){return Object(D.jsx)("header",{className:Se.a.header,children:Object(D.jsx)("div",{className:Se.a.headerContainer,children:e.isAuth?Object(D.jsxs)("div",{className:Se.a.login,children:[" ",e.login," ",Object(D.jsx)(B.a,{onClickHandler:e.logout,buttonName:"LogOut"})," "]}):Object(D.jsx)(H.b,{className:Se.a.navlink,to:"/login",children:"Login"})})})},Ie=function(e){Object(R.a)(n,e);var t=Object(U.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"render",value:function(){return Object(D.jsx)(we,{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logout})}}]),n}(a.a.Component),Ee=Object(V.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.logout();case 2:0===e.sent.data.resultCode&&(t(_(null,null,null,!1)),t(y(null)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ie),ke=n(29),Ae=n.n(ke),Ce=Object(ce.a)({form:"login"})((function(e){return Object(D.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(D.jsx)("div",{className:Ae.a.input,children:Object(D.jsx)(ae.a,{placeholder:"email",name:"email",component:re.a,validate:[Oe,ve]})}),Object(D.jsx)("div",{className:Ae.a.input,children:Object(D.jsx)(ae.a,{placeholder:"password",name:"password",component:re.a,validate:[Oe,ve]})}),Object(D.jsxs)("div",{className:Ae.a.checkbox,children:[Object(D.jsx)(ae.a,{component:re.a,name:"rememberMe",type:"checkbox"}),Object(D.jsx)("p",{children:"remember me"})]}),e.captchaUrl&&Object(D.jsx)("img",{src:e.captchaUrl}),e.captchaUrl&&Object(D.jsx)("div",{children:Object(D.jsx)(ae.a,{placeholder:"enter symbols from image",component:re.a,name:"captcha"})}),e.error&&Object(D.jsx)("div",{className:Ae.a.error,children:e.error}),Object(D.jsx)("div",{className:Ae.a.btn,children:Object(D.jsx)(B.a,{buttonName:"Login"})})]})})),Le=Object(V.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,r){return function(){var a=Object(O.a)(p.a.mark((function a(c){var s,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.login(e,t,n,r);case 2:0===(s=a.sent).data.resultCode?c(N()):(10===s.data.resultCode&&c(P()),i=s.data.messages.length>0?s.data.messages[0]:"Some error!",c(Object(m.a)("login",{_error:i})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuth,r=e.captchaUrl;return n?Object(D.jsx)(M.a,{to:"/profile"}):Object(D.jsxs)("div",{className:Ae.a.logForm,children:[Object(D.jsxs)("div",{className:Ae.a.info,children:["To login in the application, please enter the email and password of the test account (has restrictions on requests)",Object(D.jsx)("br",{}),"Email: ",Object(D.jsx)("span",{children:"free@samuraijs.com"}),Object(D.jsx)("br",{}),"Password: ",Object(D.jsx)("span",{children:"free"})]}),Object(D.jsx)("h2",{children:"Login"}),Object(D.jsx)(Ce,{captchaUrl:r,onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha)}})]})})),Te=a.a.lazy((function(){return n.e(3).then(n.bind(null,305))})),Fe=a.a.lazy((function(){return n.e(4).then(n.bind(null,304))})),Re=function(e){Object(R.a)(n,e);var t=Object(U.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(D.jsxs)("div",{className:"app-wrapper",children:[Object(D.jsx)(Ee,{}),Object(D.jsx)(q,{}),Object(D.jsx)("div",{className:"app-wrapper-content",children:Object(D.jsxs)(M.d,{children:[Object(D.jsx)(M.b,{path:"/profile/:userId?",render:function(){return Object(D.jsx)(Ne,{})}}),Object(D.jsx)(M.b,{path:"/dialogs",render:function(){return Object(D.jsx)(r.Suspense,{fallback:Object(D.jsx)($.a,{}),children:Object(D.jsx)(Te,{})})}}),Object(D.jsx)(M.b,{path:"/users",render:function(){return Object(D.jsx)(r.Suspense,{fallback:Object(D.jsx)($.a,{}),children:Object(D.jsx)(Fe,{})})}}),Object(D.jsx)(M.b,{path:"/music",render:function(){return Object(D.jsx)(G,{})}}),Object(D.jsx)(M.b,{path:"/news",render:function(){return Object(D.jsx)(K,{})}}),Object(D.jsx)(M.b,{path:"/settings",render:function(){return Object(D.jsx)(W,{})}}),Object(D.jsx)(M.b,{path:"/login",render:function(){return Object(D.jsx)(Le,{})}}),Object(D.jsx)(M.b,{path:"/social-network",render:function(){return Object(D.jsx)(M.a,{to:"/profile"})}}),Object(D.jsx)(M.b,{exact:!0,path:"/",render:function(){return Object(D.jsx)(M.a,{to:"/profile"})}}),Object(D.jsx)(M.b,{path:"*",render:function(){return Object(D.jsx)("div",{children:"404 NOT FOUND"})}})]})})]}):Object(D.jsx)($.a,{})}}]),n}(a.a.Component),Ue=Object(s.d)(Object(V.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(N());Promise.all([t]).then((function(){e({type:S})}))}}}),M.g)(Re);L.a.render(Object(D.jsx)(V.a,{store:A,children:Object(D.jsx)(H.a,{children:Object(D.jsx)(Ue,{})})}),document.getElementById("root")),c()},35:function(e,t,n){e.exports={profileInfoBlock:"ProfileInfo_profileInfoBlock__3suiF",status:"ProfileInfo_status__1Nxje",info:"ProfileInfo_info__2iS-I",info_form:"ProfileInfo_info_form__OI2OF",error:"ProfileInfo_error__1E0S-"}},39:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return N})),n.d(t,"d",(function(){return P}));var r=n(7),a=n.n(r),c=n(12),s=n(49),i=n(4),o=n(13),u="SOCIAL-NETWORK/USERS/UNFOLLOW",l="SOCIAL-NETWORK/USERS/FOLLOW",d="SOCIAL-NETWORK/USERS/SET_USERS",j="SOCIAL-NETWORK/USERS/SET_CURRENT_PAGE",f="SOCIAL-NETWORK/USERS/SET_TOTAL_COUNT",b="SOCIAL-NETWORK/USERS/TOGGLE_LOADING",p="SOCIAL-NETWORK/USERS/TOGGLE_FOLLOWING_PROGRESS",O={users:[],count:50,totalCount:0,currentPage:1,loading:!1,followingProgress:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case u:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case d:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case j:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case f:return Object(i.a)(Object(i.a)({},e),{},{totalCount:t.totalCount});case b:return Object(i.a)(Object(i.a)({},e),{},{loading:t.loading});case p:return Object(i.a)(Object(i.a)({},e),{},{followingProgress:t.isLoading?[].concat(Object(s.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});default:return e}},m=function(e){return{type:l,userId:e}},v=function(e){return{type:u,userId:e}},x=function(e){return{type:j,currentPage:e}},g=function(e){return{type:b,loading:e}},_=function(e,t){return{type:p,isLoading:e,userId:t}},y=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(e)),r(g(!0)),n.next=4,o.e.getUsers(e,t);case 4:c=n.sent,r(g(!1)),r((s=c.data.items,{type:d,users:s})),r((a=c.data.totalCount,{type:f,totalCount:a}));case 8:case"end":return n.stop()}var a,s}),n)})));return function(e){return n.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0,e)),t.next=3,o.e.follow(e);case 3:0===t.sent.data.resultCode&&n(m(e)),n(_(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0,e)),t.next=3,o.e.unfollow(e);case 3:0===t.sent.data.resultCode&&n(v(e)),n(_(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n.p+"static/media/preloader.d3fbaf2b.gif",a=(n(1),n(0)),c=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{alt:"there should be ",src:r})})}},62:function(e,t,n){e.exports={formElement:"FormElements_formElement__2tkD1",error:"FormElements_error__gdMqo"}},63:function(e,t,n){e.exports={header:"Header_header___SfV1",headerContainer:"Header_headerContainer__OyN1A",login:"Header_login__3bWw6",navlink:"Header_navlink__2785N"}},71:function(e,t,n){"use strict";t.a=n.p+"static/media/Avaimg.4e89b174.png"},78:function(e,t,n){e.exports={heading:"MyPosts_heading__3mMuh",add_post:"MyPosts_add_post__2UtlE",post:"MyPosts_post__ROcyD"}},79:function(e,t,n){e.exports={post_item:"Post_post_item__21zv8",like:"Post_like__1Fhs5",post:"Post_post__1Uo7o"}},98:function(e,t,n){e.exports={button:"Buttons_button__2ant2",active:"Buttons_active__1jy1t"}}},[[297,1,2]]]);
//# sourceMappingURL=main.92e3029f.chunk.js.map